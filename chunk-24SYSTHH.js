import{a as z,b as J,c as Q}from"./chunk-YK5JBHKT.js";import{a as G,b as N,c as T,e as B,f as q,g as V,h as H}from"./chunk-7VRA7NH3.js";import{a as X}from"./chunk-Y4ZCGVAW.js";import{c as U,d as W}from"./chunk-3TBXM6QS.js";import{a as L,g as R,h as K}from"./chunk-7ITRIRQH.js";import{a as j}from"./chunk-PE3AIABI.js";import{a as Y}from"./chunk-2OGK3DXK.js";import"./chunk-SMOEXM7I.js";import{a as _,b as S}from"./chunk-2J6UM4TH.js";import{b as w,d as a,f as P,g as x,h as y,j as p,m as O,n as F,s as k,t as E,u as I}from"./chunk-33HZCSPU.js";import{d as b}from"./chunk-WR2FAY7X.js";import{o as A,q as D}from"./chunk-UKCT2NNU.js";import"./chunk-AESYL7IM.js";import"./chunk-I7KWM6MY.js";import{i as C}from"./chunk-XXO6A46Z.js";import{Ab as t,Bb as e,Cb as s,Jb as M,Vb as i,Ya as n,Za as r,cc as v,la as h,qb as c,rb as u}from"./chunk-BEZRA2BD.js";var be=(()=>{let l=class l{constructor(o,m,d,f,Z,$){this.title=o,this.auth=m,this._snackBar=d,this.cookieService=f,this.router=Z,this.dialogService=$,this.botonDisabled=!1,this.loginForm=new y({email:new p("",a.compose([a.email,a.required])),password:new p("",a.compose([a.required])),politica:new p(!1,a.requiredTrue)})}ngOnInit(){this.title.setTitle("Acceder < EasyShop")}login(){this.dialogService.openSpinner(),this.loginForm.valid?(this.botonDisabled=!0,this.auth.loginAdmin(this.loginForm.value).subscribe({next:o=>{o.token&&(this.cookieService.set("TOKEN_A",o.token,1),this.router.navigate(["/dashboard"]),this.botonDisabled=!1,this.dialogService.closeAll())},error:o=>{this.dialogService.closeAll(),this._snackBar.open("Ha ocurrido un error.","Aceptar",{duration:3e3}),this.botonDisabled=!1}})):(this.dialogService.closeAll(),this._snackBar.open("El email y/o contrase\xF1a no son v\xE1lidos.","Aceptar",{duration:3e3}))}};l.\u0275fac=function(m){return new(m||l)(r(C),r(_),r(j),r(S),r(b),r(Y))},l.\u0275cmp=h({type:l,selectors:[["app-login"]],standalone:!0,features:[v],decls:37,vars:10,consts:[[1,"login-section"],[1,"logo-app"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[1,"login-form"],[1,"login-card"],["ngNativeValidate","",3,"submit","formGroup"],["cols","2","rowHeight","3:1",1,"input-list"],[3,"colspan","rowspan"],[1,"email-input","form-field"],["type","email","matInput","","formControlName","email","required",""],[1,"password-input","form-field"],["type","password","matInput","","formControlName","password","required",""],["formControlName","politica",1,"checkbox"],["type","submit","mat-flat-button","",1,"acceder",3,"disabled"],[1,"links"],["href","http://localhost:8000/forgot-password"],["href",""],[1,"politica"]],template:function(m,d){m&1&&(t(0,"section",0)(1,"div",1),s(2,"img",2),e(),t(3,"div",3)(4,"mat-card",4)(5,"mat-card-header")(6,"mat-card-title")(7,"h1"),i(8,"Inicio de sesi\xF3n"),e()()(),t(9,"form",5),M("submit",function(){return d.login()}),t(10,"mat-card-content")(11,"mat-grid-list",6)(12,"mat-grid-tile",7)(13,"mat-form-field",8)(14,"mat-label"),i(15,"Correo electr\xF3nico: "),e(),s(16,"input",9),e()(),t(17,"mat-grid-tile",7)(18,"mat-form-field",10)(19,"mat-label"),i(20,"Contrase\xF1a: "),e(),s(21,"input",11),e()()()(),t(22,"mat-card-footer")(23,"mat-checkbox",12),i(24,"Acepto la pol\xEDtica de privacidad."),e(),t(25,"button",13),i(26,"Acceder"),e()()()()(),t(27,"div",14)(28,"p")(29,"a",15),i(30,"\xBFHas olvidado tu contrase\xF1a?"),e()(),t(31,"p")(32,"a",16),i(33,"\u2190 Volver a EasyShop"),e()()(),t(34,"div",17)(35,"a",16),i(36,"Pol\xEDtica de privacidad"),e()()()),m&2&&(n(9),c("formGroup",d.loginForm),n(3),c("colspan",2)("rowspan",1),n(),u("width",100,"%"),n(4),c("colspan",2)("rowspan",1),n(),u("width",100,"%"),n(7),c("disabled",!d.loginForm.valid||d.botonDisabled))},dependencies:[H,G,T,q,B,V,N,Q,J,z,K,R,L,W,U,D,A,X,I,w,P,x,k,O,F,E],styles:[".login-section[_ngcontent-%COMP%]{margin:0 auto}.logo-app[_ngcontent-%COMP%]{text-align:center;margin:2rem}.logo-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}.login-card[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{justify-content:center}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.checkbox[_ngcontent-%COMP%]{margin-left:.5rem}button.acceder[_ngcontent-%COMP%]{width:30%;margin:1em 1rem 1rem 2rem;text-align:center;color:var(--white);background-color:var(--darkblue)}.links[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left;gap:2rem;margin:2rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--black)}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--darkblue)}.politica[_ngcontent-%COMP%]{text-align:center;margin:3rem 0}.politica[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--darkblue)}@media only screen and (min-width: 1367px){.login-section[_ngcontent-%COMP%]{width:30%;padding:5rem 0}}@media only screen and (max-width: 767px){.login-section[_ngcontent-%COMP%]{width:100%;padding:2rem 1rem}}@media only screen and (min-width: 768px) and (max-width: 1366px){.login-section[_ngcontent-%COMP%]{width:50%;padding:3rem 0}}"]});let g=l;return g})();export{be as LoginComponent};
