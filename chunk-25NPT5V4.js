import{a as c}from"./chunk-4OTIWHWN.js";import{c as o,k as m}from"./chunk-B7NLDW3E.js";import{Z as d,aa as a,fa as h,i as p,t as i}from"./chunk-BEZRA2BD.js";var H=(()=>{let r=class r{constructor(e,t){this.http=e,this.headersService=t,this._refresh$=new p,this.endpoint=c.ApiEndpoint}get refresh$(){return this._refresh$}getPedidos(){return this.http.get(`${this.endpoint}/pedidos`,this.headersService.createHeadersAdmin())}getPedido(e){return this.http.get(`${this.endpoint}/pedidos/${e}`,this.headersService.createHeadersAdmin()).pipe(i(t=>t.data))}getPedidosByUser(){return this.http.get(`${this.endpoint}/pedidoscliente`,this.headersService.createHeadersClient()).pipe(i(e=>e.data))}getPedidoClient(e){return this.http.post(`${this.endpoint}/pedidocliente`,{idPedido:e},this.headersService.createHeadersClient()).pipe(i(t=>t.data))}getEstados(){return this.http.get(`${this.endpoint}/estadospedido`,this.headersService.createHeadersAdmin())}postPedido(e){return this.http.post(`${this.endpoint}/pedidos`,e,this.headersService.createHeadersClient()).pipe(d(()=>{this.refresh$.next()}))}postPedidoAdmin(e){return this.http.post(`${this.endpoint}/pedidosadmin`,e,this.headersService.createHeadersAdmin()).pipe(d(()=>{this.refresh$.next()}))}pagoTarjeta(e){return this.http.post(`${this.endpoint}/pagotarjeta`,e,this.headersService.createHeadersClient())}redsys(e){let t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t);let s=t.querySelector("form");s&&s.submit()}updatePedido(e,t){return this.http.put(`${this.endpoint}/pedidos/${e}`,t,this.headersService.createHeadersAdmin()).pipe(d(()=>{this.refresh$.next()}))}deletePedido(e){return this.http.delete(`${this.endpoint}/pedidos/${e}`,this.headersService.createHeadersAdmin()).pipe(d(()=>{this.refresh$.next()}))}getPedidosItemByOrderId(e){return this.http.get(`${this.endpoint}/pedidositem/${e}`,this.headersService.createHeadersAdmin()).pipe(i(t=>t.data))}getPedidoItemsClient(e){return this.http.post(`${this.endpoint}/pedidoitemclient`,{idPedido:e},this.headersService.createHeadersClient()).pipe(i(t=>t.data))}getPedidoItemById(e){return this.http.get(`${this.endpoint}/pedidoitem/${e}`,this.headersService.createHeadersAdmin()).pipe(i(t=>t.data))}postPedidoItem(e){return this.http.post(`${this.endpoint}/pedidoitem`,e,this.headersService.createHeadersAdmin()).pipe(d(()=>{this.refresh$.next()}))}updatePedidoItem(e,t){return this.http.put(`${this.endpoint}/pedidoitem/${e}`,t,this.headersService.createHeadersAdmin()).pipe(d(()=>{this.refresh$.next()}))}deletePedidoItem(e){return this.http.delete(`${this.endpoint}/pedidoitem/${e}`,this.headersService.createHeadersAdmin()).pipe(i(t=>(this.refresh$.next(),t.data)))}enviarEmailPedido(e){let t={id:e};return this.http.post(`${this.endpoint}/emailpedido/`,t,this.headersService.createHeadersAdmin()).pipe(i(s=>s.data))}};r.\u0275fac=function(t){return new(t||r)(h(o),h(m))},r.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();export{H as a};
