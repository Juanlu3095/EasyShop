import{a as D,b as Y,c as Z}from"./chunk-BJKW2MZI.js";import{a as y,b as X}from"./chunk-5V7AZGGS.js";import{a as K,b as W}from"./chunk-Y4ZCGVAW.js";import{c as j,d as J}from"./chunk-3TBXM6QS.js";import{a as N,g as G,h as U}from"./chunk-7ITRIRQH.js";import{o as z,q as B}from"./chunk-UKCT2NNU.js";import{a as ee,b as te,c as ie,d as ae,e as ne,f as oe,g as le,h as re,i as ce,j as me,k as se,l as pe,m as de}from"./chunk-YRYHB4P2.js";import{ia as q}from"./chunk-I7KWM6MY.js";import{k as Q}from"./chunk-X2X7HICG.js";import{Ab as c,Bb as r,Cb as C,Da as F,Db as b,Eb as x,Gb as h,Jb as g,Lb as m,Rb as M,Sb as v,Tb as k,Ub as P,Va as A,Vb as p,Wb as O,Xb as S,Ya as o,cc as H,dc as L,la as I,ob as f,qb as s,ta as V,tb as R,ua as u,va as _,vb as $,wb as E,yb as w,zb as T}from"./chunk-BEZRA2BD.js";var _e=["btnDangerAll"],fe=(e,i)=>i.id,he=()=>[5,10,25,100];function ge(e,i){if(e&1){let t=h();c(0,"button",15,1),g("click",function(){u(t);let n=m();return _(n.eliminarSeleccionados())}),p(2,"Eliminar registros selecionados"),r()}}function Ce(e,i){if(e&1){let t=h();c(0,"th",16)(1,"mat-checkbox",17),g("change",function(){u(t);let n=m();return n.toggleAllRows(),_(n.emitSelectedIds())}),r()()}if(e&2){let t=m();o(),s("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function be(e,i){if(e&1){let t=h();c(0,"td",18)(1,"mat-checkbox",19),g("click",function(n){return u(t),_(n.stopPropagation())})("change",function(){let n=u(t).$implicit,l=m();return l.selection.toggle(n),_(l.emitSelectedIds())}),r()()}if(e&2){let t=i.$implicit,a=m();o(),s("checked",a.selection.isSelected(t))("aria-label",a.checkboxLabel(t))}}function xe(e,i){if(e&1&&(c(0,"th",21),p(1),r()),e&2){let t=m().$implicit;o(),S(" ",t," ")}}function Se(e,i){if(e&1&&(c(0,"td",18),C(1,"img",22),r()),e&2){let t=i.$implicit,a=m().$implicit,n=m();o(),s("src",n.storageEndpoint+t[a],A)}}function we(e,i){if(e&1&&(b(0,9),f(1,xe,2,1,"th",20)(2,Se,2,1,"td",8),x()),e&2){let t=i.$implicit;s("matColumnDef",t)}}function Te(e,i){if(e&1&&(c(0,"th",21),p(1),r()),e&2){let t=m().$implicit;o(),S(" ",t," ")}}function Me(e,i){if(e&1&&(c(0,"td",18),p(1),r()),e&2){let t=i.$implicit,a=m().$implicit;o(),S(" ",t[a]," ")}}function ve(e,i){if(e&1&&(b(0,9),f(1,Te,2,1,"th",20)(2,Me,2,1,"td",8),x()),e&2){let t=i.$implicit;s("matColumnDef",t)}}function ke(e,i){e&1&&(c(0,"th",16),p(1," Acciones "),r())}function ye(e,i){if(e&1){let t=h();c(0,"button",24),g("click",function(){let n=u(t).$implicit,l=m().$implicit;return _(n.accion(l.Id))}),p(1),r()}if(e&2){let t=i.$implicit;R(t.class),o(),O(t.nombre)}}function De(e,i){if(e&1&&(c(0,"td",18),w(1,ye,2,4,"button",23,fe),r()),e&2){let t=m();o(),T(t.buttons)}}function Ee(e,i){e&1&&C(0,"tr",25)}function Ie(e,i){e&1&&C(0,"tr",26)}function Ve(e,i){if(e&1&&(c(0,"tr",27)(1,"td",28),p(2),r()()),e&2){m();let t=P(4);o(2),S('No hay datos que satisfagan la consulta "',t.value,'"')}}var tt=(()=>{let i=class i{constructor(){this.selection=new q(!0,[]),this.btnDangerAll=!1,this.selectionChange=new F,this.dataSource=new de,this.storageEndpoint=Q.DriveEndpoint}ngOnChanges(a){a.data&&(console.log("Data received in app-tablacompleta:",this.data),this.dataSource.data=this.data,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}ngOnInit(){this.paginator._intl.itemsPerPageLabel="Registros por p\xE1gina:",this.paginator._intl.previousPageLabel="Anterior",this.paginator._intl.nextPageLabel="Siguiente"}aplicarFiltro(a){let n=a.target.value;this.dataSource.filter=n.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}emitSelectedIds(){let a=this.selection.selected.map(n=>n.Id);console.log("Emitting selected IDs:",a),this.selectionChange.emit(a)}isAllSelected(){let a=this.selection.selected.length,n=this.dataSource.data.length;return a===n}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}checkboxLabel(a){return a?`${this.selection.isSelected(a)?"deselect":"select"} row ${a.position+1}`:`${this.isAllSelected()?"deselect":"select"} all`}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=I({type:i,selectors:[["app-tablacompleta"]],viewQuery:function(n,l){if(n&1&&(M(y,7),M(D,5),M(_e,5)),n&2){let d;v(d=k())&&(l.paginator=d.first),v(d=k())&&(l.sort=d.first),v(d=k())&&(l.botonEliminarTodo=d.first)}},inputs:{columnImage:"columnImage",columns:"columns",displayedColumns:"displayedColumns",data:"data",buttons:"buttons",eliminarSeleccionados:"eliminarSeleccionados",btnDangerAll:"btnDangerAll"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[V,H],decls:22,vars:6,consts:[["input",""],["btnDangerAll",""],["matInput","","placeholder","",3,"keyup"],["mat-stroked-button","",1,"dangerAll"],[1,"mat-elevation-z8","table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of dataSource",3,"pageSizeOptions"],["mat-stroked-button","",1,"dangerAll",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],[1,"imageGaleria",3,"src"],["mat-stroked-button","",3,"class"],["mat-stroked-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,l){if(n&1){let d=h();c(0,"mat-form-field")(1,"mat-label"),p(2,"Filtro"),r(),c(3,"input",2,0),g("keyup",function(ue){return u(d),_(l.aplicarFiltro(ue))}),r()(),f(5,ge,3,0,"button",3),c(6,"div",4)(7,"table",5),b(8,6),f(9,Ce,2,3,"th",7)(10,be,2,2,"td",8),x(),w(11,we,3,1,"ng-container",9,E),w(13,ve,3,1,"ng-container",9,E),b(15,10),f(16,ke,2,0,"th",7)(17,De,3,0,"td",8),x(),f(18,Ee,1,0,"tr",11)(19,Ie,1,0,"tr",12)(20,Ve,3,1,"tr",13),r(),C(21,"mat-paginator",14),r()}n&2&&(o(5),$(5,l.btnDangerAll?-1:5),o(2),s("dataSource",l.dataSource),o(4),T(l.columnImage),o(2),T(l.columns),o(5),s("matHeaderRowDef",l.displayedColumns),o(),s("matRowDefColumns",l.displayedColumns),o(2),s("pageSizeOptions",L(5,he)))},dependencies:[U,G,N,J,j,B,z,pe,ee,ie,le,ae,te,re,ne,oe,ce,me,se,Z,D,Y,X,y,W,K],styles:[".dangerAll[_ngcontent-%COMP%]{margin:0 2rem;background-color:red;color:var(--white)!important}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem}button.danger[_ngcontent-%COMP%]{background-color:red;color:var(--white)}.imageGaleria[_ngcontent-%COMP%]{max-width:100px}"]});let e=i;return e})();export{tt as a};
