import{a as ve}from"./chunk-YJUDKHAM.js";import{a as he}from"./chunk-34JUEJJQ.js";import{a as oe,b as re,c as le}from"./chunk-YK5JBHKT.js";import{a as X,b as Y,c as Z,e as ee,h as te}from"./chunk-7VRA7NH3.js";import{a as ce,b as ue}from"./chunk-JI4B56LL.js";import{a as pe}from"./chunk-Y4ZCGVAW.js";import{c as me,d as de}from"./chunk-3TBXM6QS.js";import{a as ie,g as ne,h as ae}from"./chunk-7ITRIRQH.js";import{a as U,b as W}from"./chunk-XTN53JEY.js";import"./chunk-UIFHNKPJ.js";import"./chunk-S3J4NSG4.js";import{a as Q}from"./chunk-PE3AIABI.js";import{a as fe}from"./chunk-4AJ3ZCJG.js";import{a as se}from"./chunk-2OGK3DXK.js";import"./chunk-SMOEXM7I.js";import"./chunk-OB62TPC4.js";import"./chunk-AKCFMZTD.js";import{b as T,d as r,f as H,g as A,h as G,j as s,k as V,l as L,m as B,n as R,s as z,u as $}from"./chunk-33HZCSPU.js";import{b as N}from"./chunk-V6CHNUWL.js";import{o as J,q as K}from"./chunk-UKCT2NNU.js";import"./chunk-AESYL7IM.js";import{Z as k}from"./chunk-I7KWM6MY.js";import{i as q}from"./chunk-X2X7HICG.js";import{Ab as t,Bb as e,Cb as o,Dc as F,Jb as x,Kc as D,Lb as S,Mc as j,Vb as i,Wb as p,Xb as _,Ya as n,Za as h,bc as w,cc as P,gc as y,ic as O,la as E,ob as C,pc as I,qb as d,rb as u,vb as M}from"./chunk-BEZRA2BD.js";function be(v,f){if(v&1&&(t(0,"h1"),i(1),e(),t(2,"p"),i(3),y(4,"date"),e(),t(5,"div",28)(6,"div",29)(7,"a",30),i(8,"\u2190 Volver a la p\xE1gina anterior"),e(),t(9,"h2"),i(10,"Descripci\xF3n"),e(),t(11,"p"),i(12),e(),t(13,"h2"),i(14,"Requisitos"),e(),t(15,"p"),i(16),e(),t(17,"h2"),i(18,"Beneficios"),e(),t(19,"p"),i(20),e()(),t(21,"div",31)(22,"mat-card",32)(23,"mat-card-header")(24,"mat-card-title"),i(25,"Detalles"),e()(),t(26,"mat-card-content")(27,"div",33)(28,"p"),i(29,"Categor\xEDa"),e(),t(30,"span"),i(31),e()(),o(32,"br"),t(33,"div",33)(34,"p"),i(35,"Provincia"),e(),t(36,"span"),i(37),e()(),o(38,"br"),t(39,"div",33)(40,"p"),i(41,"Tipo de jornada"),e(),t(42,"span"),i(43),e()(),o(44,"br"),t(45,"div",33)(46,"p"),i(47,"Nivel profesional"),e(),t(48,"span"),i(49),e()(),o(50,"br"),t(51,"div",33)(52,"p"),i(53,"Modalidad"),e(),t(54,"span"),i(55),e()(),o(56,"br"),t(57,"div",33)(58,"p"),i(59,"Salario"),e(),t(60,"span"),i(61),e()()()()()()),v&2){let m=S();n(),p(m.oferta.puesto),n(2),_("Publicada el ",O(4,11,m.oferta.fecha,"longDate"),""),n(9),p(m.oferta.descripcion),n(4),p(m.oferta.requisitos),n(4),p(m.oferta.beneficios),n(11),p(m.oferta.jobcategory),n(6),p(m.oferta.province),n(6),p(m.oferta.jornada),n(6),p(m.oferta.nivel_profesional),n(6),p(m.oferta.modalidad),n(6),p(m.oferta.salario)}}F(he,"es");var Ue=(()=>{let f=class f{constructor(a,c,l,g,b,ge){this.title=a,this.ofertaempleoservice=c,this.activatedroute=l,this.responsive=g,this._snackbar=b,this.dialog=ge,this.jobForm=new G({nombre:new s("",r.required),apellidos:new s("",r.required),email:new s("",r.compose([r.email,r.required])),telefono:new s("",r.compose([r.minLength(9),r.required])),pais:new s("",r.required),ciudad:new s("",r.required),incorporacion:new s("",r.required),job_id:new s(0,r.compose([r.min(1),r.required])),politica:new s(!1,r.requiredTrue),estado_candidatura:new s("En proceso")}),this.fileformData=new FormData}ngOnInit(){this.responsiveDesign(),this.idoferta=Number(this.activatedroute.snapshot.paramMap.get("idoferta")),this.idoferta?this.ofertaempleoservice.getOferta(this.idoferta).subscribe({next:a=>{this.oferta=a.data,this.title.setTitle(`${this.oferta.puesto} | Oferta de empleo`)},error:a=>{console.error(a)}}):this.title.setTitle("Oferta de empleo")}ngOnDestroy(){this.suscripcion.unsubscribe()}responsiveDesign(){this.suscripcion=this.responsive.obtenerDispositivo().subscribe({next:a=>{switch(a){case"Desktop":this.rowHeight="25:1";break;case"Port\xE1til":this.rowHeight="12:1";break;case"Tablet":this.rowHeight="7:1";break;default:this.rowHeight="4:1";break}},error:a=>{console.error(a)}})}inscripcion(){if(this.jobForm.patchValue({job_id:this.oferta.id}),this.jobForm.valid){this.dialog.openSpinner();let a=new FormData;a.append("nombre",this.jobForm.value.nombre??""),a.append("apellidos",this.jobForm.value.apellidos??""),a.append("email",this.jobForm.value.email??""),a.append("telefono",this.jobForm.value.telefono??""),a.append("pais",this.jobForm.value.pais??""),a.append("ciudad",this.jobForm.value.ciudad??""),a.append("incorporacion",this.jobForm.value.incorporacion??""),a.append("job_id",this.oferta.id.toString()),a.append("estado_candidatura","En proceso");let c=this.fileformData.get("ruta_cv");if(c)a.append("ruta_cv",c);else{console.error("No se ha seleccionado ning\xFAn archivo.");return}this.ofertaempleoservice.postCv(a).subscribe({next:l=>{this.dialog.closeAll(),this._snackbar.open("Candidatura enviada.","Aceptar",{duration:3e3})},error:l=>{this.dialog.closeAll(),this._snackbar.open("Ha ocurrido un error.","Aceptar",{duration:3e3})}})}}getFile(a){let l=a.target.files;if(l.length>0&&l!=null){let g=l[0];this.fileformData.set("ruta_cv",g)}}};f.\u0275fac=function(c){return new(c||f)(h(q),h(ve),h(N),h(fe),h(Q),h(se))},f.\u0275cmp=E({type:f,selectors:[["app-ofertaempleo"]],standalone:!0,features:[w([{provide:I,useValue:"es"}]),P],decls:66,vars:35,consts:[[1,"oferta-empleo"],[1,"formulario-inscripcion"],[1,"form-contacto",3,"ngSubmit","formGroup"],["cols","2","gutterSize","10px",1,"input-list",3,"rowHeight"],[3,"colspan","rowspan"],[1,"nombre-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","nombre","required",""],[1,"apellidos-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","apellidos","required",""],[1,"email-input","form-field"],["type","email","matInput","","placeholder","","value","","formControlName","email","required",""],[1,"telefono-input","form-field"],["type","number","matInput","","placeholder","","value","","formControlName","telefono","required",""],[1,"pais-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","pais","required",""],[1,"ciudad-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","ciudad","required",""],[1,"incorporacion-input","form-field"],["formControlName","incorporacion"],["value","Inmediatamente"],["value","15 dias"],["value","30 dias"],["appearance","outline",1,"file-input","form-field"],["type","file","name","ruta_cv","required","",3,"change"],["hidden","","matInput",""],["matInput","","formControlName","politica",1,"politica-input","form-field"],["href","#"],["mat-flat-button","","type","submit"],[1,"oferta"],[1,"cuerpo-oferta"],["href","/empleos"],[1,"detalles-oferta"],["appearance","outlined",1,"detalles-card"],[1,"detalle-item"]],template:function(c,l){c&1&&(o(0,"app-header"),t(1,"main")(2,"section",0),C(3,be,62,14),t(4,"div",1)(5,"h2"),i(6,"\xA1Inscr\xEDbete!"),e(),t(7,"p"),i(8,"Rellena el siguiente formulario y participar\xE1s en el proceso de selecci\xF3n:"),e(),t(9,"form",2),x("ngSubmit",function(){return l.inscripcion()}),t(10,"mat-grid-list",3)(11,"mat-grid-tile",4)(12,"mat-form-field",5)(13,"mat-label"),i(14,"Nombre:"),e(),o(15,"input",6),e()(),t(16,"mat-grid-tile",4)(17,"mat-form-field",7)(18,"mat-label"),i(19,"Apellidos:"),e(),o(20,"input",8),e()(),t(21,"mat-grid-tile",4)(22,"mat-form-field",9)(23,"mat-label"),i(24,"Email:"),e(),o(25,"input",10),e()(),t(26,"mat-grid-tile",4)(27,"mat-form-field",11)(28,"mat-label"),i(29,"Tel\xE9fono:"),e(),o(30,"input",12),e()(),t(31,"mat-grid-tile",4)(32,"mat-form-field",13)(33,"mat-label"),i(34,"Pa\xEDs:"),e(),o(35,"input",14),e()(),t(36,"mat-grid-tile",4)(37,"mat-form-field",15)(38,"mat-label"),i(39,"Ciudad:"),e(),o(40,"input",16),e()(),t(41,"mat-grid-tile",4)(42,"mat-form-field",17)(43,"mat-label"),i(44,"\xBFCu\xE1ndo podr\xEDas incorporarte?"),e(),t(45,"mat-select",18)(46,"mat-option",19),i(47,"Inmediatamente"),e(),t(48,"mat-option",20),i(49,"En 15 d\xEDas"),e(),t(50,"mat-option",21),i(51,"En 30 d\xEDas"),e()()()(),t(52,"mat-grid-tile",4)(53,"mat-form-field",22),o(54,"mat-label"),t(55,"input",23),x("change",function(b){return l.getFile(b)}),e(),o(56,"input",24),e()()(),t(57,"mat-checkbox",25),i(58," He le\xEDdo y acepto la "),t(59,"a",26),i(60,"pol\xEDtica de privacidad"),e(),i(61,". "),e(),o(62,"br"),t(63,"button",27),i(64,"Enviar"),e()()()()(),o(65,"app-footer")),c&2&&(n(3),M(3,l.oferta?3:-1),n(6),d("formGroup",l.jobForm),n(),d("rowHeight",l.rowHeight),n(),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",1)("rowspan",2),n(),u("width",100,"%"),n(4),d("colspan",2)("rowspan",2),n(),u("width",100,"%"),n(10),d("colspan",2)("rowspan",2),n(),u("width",100,"%"))},dependencies:[U,W,ae,ne,ie,le,re,oe,de,me,te,X,Z,ee,Y,ue,ce,k,pe,K,J,j,D,$,V,T,L,H,A,z,B,R],styles:[".oferta-empleo[_ngcontent-%COMP%]{margin:5rem 10rem}.oferta[_ngcontent-%COMP%]{display:flex;gap:3rem;margin-top:2rem}.cuerpo-oferta[_ngcontent-%COMP%]{width:80%}.cuerpo-oferta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:1rem 0}.detalles-oferta[_ngcontent-%COMP%]{width:20%}.detalles-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin-bottom:1rem}.detalle-item[_ngcontent-%COMP%]{line-height:1rem}.detalle-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.form-contacto[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:var(--darkblue)}.politica-input[_ngcontent-%COMP%]{margin:0 0 1rem}@media only screen and (min-width: 1024px) and (max-width: 1350px){.oferta-empleo[_ngcontent-%COMP%]{margin:5rem}.form-contacto[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem 0}}@media only screen and (min-width: 768px) and (max-width: 1023px){.cuerpo-oferta[_ngcontent-%COMP%]{width:70%}.detalles-oferta[_ngcontent-%COMP%]{width:30%}.oferta-empleo[_ngcontent-%COMP%]{margin:5rem}}@media only screen and (max-width: 767px){.oferta[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;margin-bottom:2rem}.cuerpo-oferta[_ngcontent-%COMP%], .detalles-oferta[_ngcontent-%COMP%]{width:100%}.oferta-empleo[_ngcontent-%COMP%]{margin:2rem}.file-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:small}}"]});let v=f;return v})();export{Ue as OfertaempleoComponent};
