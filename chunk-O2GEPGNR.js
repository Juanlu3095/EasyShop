import{a as J,b as Q,c as W}from"./chunk-YK5JBHKT.js";import{a as N,b as T,c as q,e as U,f as V,g as H,h as L}from"./chunk-7VRA7NH3.js";import{a as Z}from"./chunk-Y4ZCGVAW.js";import{c as X,d as Y}from"./chunk-3TBXM6QS.js";import{a as R,g as z,h as K}from"./chunk-7ITRIRQH.js";import{a as G}from"./chunk-PE3AIABI.js";import{a as $}from"./chunk-2OGK3DXK.js";import"./chunk-SMOEXM7I.js";import{a as S,b as w}from"./chunk-A3LAJG7R.js";import{b as y,d as m,f as k,g as O,h as x,j as p,m as F,n as E,s as I,t as A,u as D}from"./chunk-33HZCSPU.js";import{d as _}from"./chunk-I4WXUBEO.js";import{o as j,q as B}from"./chunk-UKCT2NNU.js";import"./chunk-AESYL7IM.js";import{a as h}from"./chunk-4OTIWHWN.js";import"./chunk-I7KWM6MY.js";import{i as P}from"./chunk-B7NLDW3E.js";import{Ab as t,Bb as e,Cb as s,Jb as C,Va as u,Vb as o,Ya as i,Za as a,cc as b,la as M,qb as l,rb as f}from"./chunk-BEZRA2BD.js";var Se=(()=>{let d=class d{constructor(n,c,r,v,ee,te){this.title=n,this.auth=c,this._snackBar=r,this.cookieService=v,this.router=ee,this.dialogService=te,this.baseUrl=h.BaseUrl,this.backEndPoint=h.BackEndPoint,this.botonDisabled=!1,this.loginForm=new x({email:new p("",m.compose([m.email,m.required])),password:new p("",m.compose([m.required])),politica:new p(!1,m.requiredTrue)})}ngOnInit(){this.title.setTitle("Acceder < EasyShop")}login(){this.dialogService.openSpinner(),this.loginForm.valid?(this.botonDisabled=!0,this.auth.loginAdmin(this.loginForm.value).subscribe({next:n=>{n.token&&(this.cookieService.set("TOKEN_A",n.token,1),this.router.navigate(["/dashboard"]),this.botonDisabled=!1,this.dialogService.closeAll())},error:n=>{console.error(n),this.dialogService.closeAll(),this._snackBar.open("Ha ocurrido un error.","Aceptar",{duration:3e3}),this.botonDisabled=!1}})):(this.dialogService.closeAll(),this._snackBar.open("El email y/o contrase\xF1a no son v\xE1lidos.","Aceptar",{duration:3e3}))}};d.\u0275fac=function(c){return new(c||d)(a(P),a(S),a(G),a(w),a(_),a($))},d.\u0275cmp=M({type:d,selectors:[["app-login"]],standalone:!0,features:[b],decls:37,vars:12,consts:[[1,"login-section"],[1,"logo-app"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[1,"login-form"],[1,"login-card"],["ngNativeValidate","",3,"submit","formGroup"],["cols","2","rowHeight","3:1",1,"input-list"],[3,"colspan","rowspan"],[1,"email-input","form-field"],["type","email","matInput","","formControlName","email","required",""],[1,"password-input","form-field"],["type","password","matInput","","formControlName","password","required",""],["formControlName","politica",1,"checkbox"],["type","submit","mat-flat-button","",1,"acceder",3,"disabled"],[1,"links"],[3,"href"],["href",""],[1,"politica"]],template:function(c,r){c&1&&(t(0,"section",0)(1,"div",1),s(2,"img",2),e(),t(3,"div",3)(4,"mat-card",4)(5,"mat-card-header")(6,"mat-card-title")(7,"h1"),o(8,"Inicio de sesi\xF3n"),e()()(),t(9,"form",5),C("submit",function(){return r.login()}),t(10,"mat-card-content")(11,"mat-grid-list",6)(12,"mat-grid-tile",7)(13,"mat-form-field",8)(14,"mat-label"),o(15,"Correo electr\xF3nico: "),e(),s(16,"input",9),e()(),t(17,"mat-grid-tile",7)(18,"mat-form-field",10)(19,"mat-label"),o(20,"Contrase\xF1a: "),e(),s(21,"input",11),e()()()(),t(22,"mat-card-footer")(23,"mat-checkbox",12),o(24,"Acepto la pol\xEDtica de privacidad."),e(),t(25,"button",13),o(26,"Acceder"),e()()()()(),t(27,"div",14)(28,"p")(29,"a",15),o(30,"\xBFHas olvidado tu contrase\xF1a?"),e()(),t(31,"p")(32,"a",16),o(33,"\u2190 Volver a EasyShop"),e()()(),t(34,"div",17)(35,"a",15),o(36,"Pol\xEDtica de privacidad"),e()()()),c&2&&(i(9),l("formGroup",r.loginForm),i(3),l("colspan",2)("rowspan",1),i(),f("width",100,"%"),i(4),l("colspan",2)("rowspan",1),i(),f("width",100,"%"),i(7),l("disabled",!r.loginForm.valid||r.botonDisabled),i(4),l("href",r.backEndPoint+"/forgot-password",u),i(6),l("href",r.baseUrl+"/politica-de-privacidad",u))},dependencies:[L,N,q,V,U,H,T,W,Q,J,K,z,R,Y,X,B,j,Z,D,y,k,O,I,F,E,A],styles:[".login-section[_ngcontent-%COMP%]{margin:0 auto}.logo-app[_ngcontent-%COMP%]{text-align:center;margin:2rem}.logo-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}.login-card[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{justify-content:center}.login-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.checkbox[_ngcontent-%COMP%]{margin-left:.5rem}button.acceder[_ngcontent-%COMP%]{width:30%;margin:1em 1rem 1rem 2rem;text-align:center;color:var(--white);background-color:var(--darkblue)}.links[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left;gap:2rem;margin:2rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--black)}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--darkblue)}.politica[_ngcontent-%COMP%]{text-align:center;margin:3rem 0}.politica[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--darkblue)}@media only screen and (min-width: 1367px){.login-section[_ngcontent-%COMP%]{width:30%;padding:5rem 0}}@media only screen and (max-width: 767px){.login-section[_ngcontent-%COMP%]{width:100%;padding:2rem 1rem}}@media only screen and (min-width: 768px) and (max-width: 1366px){.login-section[_ngcontent-%COMP%]{width:50%;padding:3rem 0}}"]});let g=d;return g})();export{Se as LoginComponent};
