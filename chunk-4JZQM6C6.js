import{a as lt}from"./chunk-XA7ZFMLR.js";import{a as et,b as it,c as ot}from"./chunk-YK5JBHKT.js";import{a as K,b as Q,d as U,e as W,f as X,g as Y,h as Z}from"./chunk-7VRA7NH3.js";import{a as rt,b as at}from"./chunk-5V7AZGGS.js";import{b as nt}from"./chunk-JI4B56LL.js";import{h as tt}from"./chunk-7ITRIRQH.js";import{a as J,b as q}from"./chunk-FN7QNYN7.js";import"./chunk-LK6KPKR6.js";import"./chunk-S3J4NSG4.js";import"./chunk-PE3AIABI.js";import{a as mt}from"./chunk-4AJ3ZCJG.js";import"./chunk-QUY6D7V3.js";import"./chunk-AKCFMZTD.js";import{b as D,f as L,g as T,h as z,j as x,k as N,m as j,n as G,o as V,p as A,q as R,t as $,u as H}from"./chunk-33HZCSPU.js";import{b as E,e as k}from"./chunk-Q4OLKBFG.js";import{o as B}from"./chunk-UKCT2NNU.js";import"./chunk-AESYL7IM.js";import"./chunk-I7KWM6MY.js";import{i as y}from"./chunk-5XYOWQFX.js";import{Ab as r,Bb as n,Cb as g,Gb as S,Jb as _,Lb as u,Ob as C,Vb as m,Wb as s,Ya as a,Za as p,cc as I,dc as F,la as M,ob as P,qb as d,ua as w,va as b,vb as O,yb as f,zb as h}from"./chunk-BEZRA2BD.js";var ct=(e,o)=>o.id;function st(e,o){return this.paginatedData}var pt=()=>[5,10,20,50];function dt(e,o){if(e&1&&(r(0,"option",6),m(1),n()),e&2){let i=o.$implicit;C("value",i.id),a(),s(i.nombre)}}function gt(e,o){if(e&1&&(r(0,"option",6),m(1),n()),e&2){let i=o.$implicit;C("value",i.id),a(),s(i.nombre)}}function ft(e,o){if(e&1&&(r(0,"mat-grid-tile",13)(1,"mat-card",14),g(2,"img",15),r(3,"div",16)(4,"mat-card-header")(5,"mat-card-subtitle"),m(6),n(),r(7,"mat-card-title"),m(8),n(),r(9,"mat-card-subtitle"),m(10),n()(),r(11,"mat-card-footer")(12,"button",17),m(13,"Ver oferta"),n()()()()()),e&2){let i=o.$implicit,t=u(2);d("colspan",t.colItem)("rowspan",t.rowItem),a(6),s(i.jobcategory),a(2),s(i.puesto),a(2),s(i.province),a(2),C("routerLink",i.id)}}function ht(e,o){if(e&1){let i=S();r(0,"mat-grid-list",11)(1,"mat-paginator",12),_("page",function(l){w(i);let c=u();return b(c.onPageChange(l))}),n(),f(2,ft,14,6,"mat-grid-tile",13,st,!0),n()}if(e&2){let i=u();d("cols",i.colList)("rowHeight",i.rowList),a(),d("length",i.ofertasempleo.length)("pageSize",i.pageSize)("pageSizeOptions",F(5,pt)),a(),h(i.paginatedData)}}function ut(e,o){e&1&&(r(0,"h3"),m(1,"No hay ofertas para mostrar."),n())}var Nt=(()=>{let o=class o{constructor(t,l,c,v){this.title=t,this.activatedroute=l,this.ofertaempleoservice=c,this.responsive=v,this.filtroForm=new z({provincia:new x(""),categoria:new x(""),puesto:new x("")}),this.paginatedData=[],this.pageSize=5,this.currentPage=0}ngOnInit(){this.title.setTitle("Ofertas de empleo | EasyShop"),this.disenoResponsivo(),this.ofertaempleoservice.getAllJobcategories().subscribe({next:t=>{this.categoriasdeempleo=t},error:t=>{console.error(t)}}),this.ofertaempleoservice.getAllProvinces().subscribe({next:t=>{this.provincias=t},error:t=>{console.error(t)}}),this.ofertaempleoservice.getAllOfertas().subscribe({next:t=>{this.ofertasempleo=t,this.paginateData()},error:t=>{console.error(t)}})}ngOnDestroy(){this.suscripcion.unsubscribe()}paginateData(){let t=this.currentPage*this.pageSize,l=t+this.pageSize;this.paginatedData=this.ofertasempleo.slice(t,l)}onPageChange(t){this.pageSize=t.pageSize,this.currentPage=t.pageIndex,this.paginateData()}filtrarEmpleos(){this.ofertaempleoservice.filtrarOfertas(this.filtroForm.value).subscribe({next:t=>{this.ofertasempleo=t,this.paginateData()},error:t=>{console.error(t)}})}disenoResponsivo(){this.suscripcion=this.responsive.obtenerDispositivo().subscribe({next:t=>{switch(t){case"Desktop":this.colList=2,this.rowList="5:1",this.colItem=1,this.rowItem="1";break;case"Port\xE1til":this.colList=1,this.rowList="5:1",this.colItem=1,this.rowItem="1";break;case"Tablet":this.colList=1,this.rowList="5:1",this.colItem=1,this.rowItem="1";break;case"M\xF3vil":this.colList=1,this.rowList="4:1",this.colItem=1,this.rowItem="1";break}},error:t=>{console.error(t)}})}};o.\u0275fac=function(l){return new(l||o)(p(y),p(E),p(lt),p(mt))},o.\u0275cmp=M({type:o,selectors:[["app-canalempleo"]],standalone:!0,features:[I],decls:25,vars:2,consts:[[1,"canal-empleo"],[1,"ofertas"],[1,"filtros"],[1,"filtroForm",3,"submit","formGroup"],["name","provincia","id","provincia","placeholder","Provincia","formControlName","provincia","matNativeControl","",1,"form-control","provincia"],["value","","selected",""],[3,"value"],["name","categoria","id","categoria","placeholder","Categor\xEDa","formControlName","categoria","matNativeControl","",1,"form-control","categoria"],["type","text","id","puesto","placeholder","Puesto","formControlName","puesto",1,"form-control","puesto"],["mat-flat-button","","type","submit",1,"submit"],[1,"ofertas-list"],[3,"cols","rowHeight"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions"],["gutterSize","50px",3,"colspan","rowspan"],["appearance","outlined",1,"oferta-item"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[1,"oferta-content"],["mat-flat-button","",1,"btn-inscribir",3,"routerLink"]],template:function(l,c){l&1&&(g(0,"app-header"),r(1,"main")(2,"section",0)(3,"h1"),m(4,"Ofertas de empleo"),n(),r(5,"div",1)(6,"div",2)(7,"form",3),_("submit",function(){return c.filtrarEmpleos()}),r(8,"select",4)(9,"option",5),m(10,"Provincia"),n(),f(11,dt,2,2,"option",6,ct),n(),r(13,"select",7)(14,"option",5),m(15,"Categor\xEDa"),n(),f(16,gt,2,2,"option",6,ct),n(),g(18,"input",8),r(19,"button",9),m(20,"Filtrar"),n()()(),r(21,"div",10),P(22,ht,4,6,"mat-grid-list",11)(23,ut,2,0),n()()()(),g(24,"app-footer")),l&2&&(a(7),d("formGroup",c.filtroForm),a(4),h(c.provincias),a(5),h(c.categoriasdeempleo),a(6),O(22,c.ofertasempleo&&c.ofertasempleo.length>0?22:23))},dependencies:[at,rt,J,q,nt,tt,B,Z,K,X,W,Y,U,Q,ot,it,et,k,$,N,A,R,D,V,L,T,H,j,G],styles:["@media (max-width: 767px){.canal-empleo[_ngcontent-%COMP%]{margin:2rem}}@media (min-width: 768px){.canal-empleo[_ngcontent-%COMP%]{margin:5rem}}h1[_ngcontent-%COMP%]{text-align:center;font-weight:700}@media (min-width: 1024px){.ofertas[_ngcontent-%COMP%]{margin:4rem 5rem}}@media (min-width: 768px) and (max-width: 1023px){.ofertas[_ngcontent-%COMP%]{margin:0}}.filtroForm[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem}@media (max-width: 767px){.filtroForm[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.filtroForm[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--white);background-color:var(--darkblue);width:30%}.filtroForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#fff url(https://www.freeiconspng.com/uploads/arrow-up-icon-23.png) no-repeat;background-size:15px;background-position:right 10px center}.ofertas-list[_ngcontent-%COMP%]{margin:5rem 0}.oferta-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.oferta-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%}.oferta-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between!important;width:100%}@media (min-width: 1024px){.oferta-content[_ngcontent-%COMP%]{padding-right:3rem}}@media (min-width: 768px) and (max-width: 1023px){.oferta-content[_ngcontent-%COMP%]{padding-right:2rem}}@media (max-width: 767px){.oferta-content[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:var(--lengthMd1)}}@media (max-width: 767px){.oferta-content[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:var(--lengthSm3)}}@media (min-width: 1024px){.oferta-content[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{width:50%}}@media (min-width: 768px) and (max-width: 1023px){.oferta-content[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{width:70%}}@media (min-width: 1024px){.oferta-content[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{width:50%}}@media (min-width: 768px) and (max-width: 1023px){.oferta-content[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{width:30%}}.oferta-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--white);background-color:var(--darkblue)}@media (min-width: 1440px){.oferta-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8rem}}@media (min-width: 1024px) and (max-width: 1439px){.oferta-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10rem}}@media (min-width: 768px) and (max-width: 1023px){.oferta-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0}}"]});let e=o;return e})();export{Nt as CanalempleoComponent};
