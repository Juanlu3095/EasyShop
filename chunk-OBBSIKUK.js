import{a as be}from"./chunk-HB4NHORK.js";import{a as ge}from"./chunk-34JUEJJQ.js";import{a as le,b as me,c as de}from"./chunk-YK5JBHKT.js";import{a as Z,b as ee,c as te,e as ie,h as ae}from"./chunk-7VRA7NH3.js";import{a as ue,b as he}from"./chunk-JI4B56LL.js";import{a as ce}from"./chunk-Y4ZCGVAW.js";import{c as pe,d as se}from"./chunk-3TBXM6QS.js";import{a as ne,g as re,h as oe}from"./chunk-7ITRIRQH.js";import{a as X,b as Y}from"./chunk-OTY4NYX2.js";import"./chunk-YWZC5PKM.js";import"./chunk-S3J4NSG4.js";import{a as W}from"./chunk-PE3AIABI.js";import{a as ve}from"./chunk-4AJ3ZCJG.js";import{a as fe}from"./chunk-2OGK3DXK.js";import"./chunk-SMOEXM7I.js";import"./chunk-TDTAES6E.js";import"./chunk-AKCFMZTD.js";import{b as A,d as o,f as G,g as V,h as B,j as s,k as L,l as R,m as U,n as z,s as $,u as J}from"./chunk-33HZCSPU.js";import{b as k}from"./chunk-I4WXUBEO.js";import{o as K,q as Q}from"./chunk-UKCT2NNU.js";import"./chunk-AESYL7IM.js";import{a as T}from"./chunk-4OTIWHWN.js";import{Z as H}from"./chunk-I7KWM6MY.js";import{i as N}from"./chunk-B7NLDW3E.js";import{Ab as t,Bb as e,Cb as r,Dc as D,Jb as E,Kc as j,Lb as _,Mc as q,Va as x,Vb as i,Wb as p,Xb as w,Ya as a,Za as h,bc as y,cc as P,gc as O,ic as I,la as C,ob as M,pc as F,qb as m,rb as f,vb as S}from"./chunk-BEZRA2BD.js";function Ee(v,u){if(v&1&&(t(0,"h1"),i(1),e(),t(2,"p"),i(3),O(4,"date"),e(),t(5,"div",28)(6,"div",29)(7,"a",26),i(8,"\u2190 Volver a la p\xE1gina anterior"),e(),t(9,"h2"),i(10,"Descripci\xF3n"),e(),t(11,"p"),i(12),e(),t(13,"h2"),i(14,"Requisitos"),e(),t(15,"p"),i(16),e(),t(17,"h2"),i(18,"Beneficios"),e(),t(19,"p"),i(20),e()(),t(21,"div",30)(22,"mat-card",31)(23,"mat-card-header")(24,"mat-card-title"),i(25,"Detalles"),e()(),t(26,"mat-card-content")(27,"div",32)(28,"p"),i(29,"Categor\xEDa"),e(),t(30,"span"),i(31),e()(),r(32,"br"),t(33,"div",32)(34,"p"),i(35,"Provincia"),e(),t(36,"span"),i(37),e()(),r(38,"br"),t(39,"div",32)(40,"p"),i(41,"Tipo de jornada"),e(),t(42,"span"),i(43),e()(),r(44,"br"),t(45,"div",32)(46,"p"),i(47,"Nivel profesional"),e(),t(48,"span"),i(49),e()(),r(50,"br"),t(51,"div",32)(52,"p"),i(53,"Modalidad"),e(),t(54,"span"),i(55),e()(),r(56,"br"),t(57,"div",32)(58,"p"),i(59,"Salario"),e(),t(60,"span"),i(61),e()()()()()()),v&2){let d=_();a(),p(d.oferta.puesto),a(2),w("Publicada el ",I(4,12,d.oferta.fecha,"longDate"),""),a(4),m("href",d.baseUrl+"/empleos",x),a(5),p(d.oferta.descripcion),a(4),p(d.oferta.requisitos),a(4),p(d.oferta.beneficios),a(11),p(d.oferta.jobcategory),a(6),p(d.oferta.province),a(6),p(d.oferta.jornada),a(6),p(d.oferta.nivel_profesional),a(6),p(d.oferta.modalidad),a(6),p(d.oferta.salario)}}D(ge,"es");var Ye=(()=>{let u=class u{constructor(n,c,l,g,b,xe){this.title=n,this.ofertaempleoservice=c,this.activatedroute=l,this.responsive=g,this._snackbar=b,this.dialog=xe,this.baseUrl=T.BaseUrl,this.jobForm=new B({nombre:new s("",o.required),apellidos:new s("",o.required),email:new s("",o.compose([o.email,o.required])),telefono:new s("",o.compose([o.minLength(9),o.required])),pais:new s("",o.required),ciudad:new s("",o.required),incorporacion:new s("",o.required),job_id:new s(0,o.compose([o.min(1),o.required])),politica:new s(!1,o.requiredTrue),estado_candidatura:new s("En proceso")}),this.fileformData=new FormData}ngOnInit(){this.responsiveDesign(),this.idoferta=Number(this.activatedroute.snapshot.paramMap.get("idoferta")),this.idoferta?this.ofertaempleoservice.getOferta(this.idoferta).subscribe({next:n=>{this.oferta=n.data,this.title.setTitle(`${this.oferta.puesto} | Oferta de empleo`)},error:n=>{console.error(n)}}):this.title.setTitle("Oferta de empleo")}ngOnDestroy(){this.suscripcion.unsubscribe()}responsiveDesign(){this.suscripcion=this.responsive.obtenerDispositivo().subscribe({next:n=>{switch(n){case"Desktop":this.rowHeight="25:1";break;case"Port\xE1til":this.rowHeight="12:1";break;case"Tablet":this.rowHeight="7:1";break;default:this.rowHeight="4:1";break}},error:n=>{console.error(n)}})}inscripcion(){if(this.jobForm.patchValue({job_id:this.oferta.id}),this.jobForm.valid){this.dialog.openSpinner();let n=new FormData;n.append("nombre",this.jobForm.value.nombre??""),n.append("apellidos",this.jobForm.value.apellidos??""),n.append("email",this.jobForm.value.email??""),n.append("telefono",this.jobForm.value.telefono??""),n.append("pais",this.jobForm.value.pais??""),n.append("ciudad",this.jobForm.value.ciudad??""),n.append("incorporacion",this.jobForm.value.incorporacion??""),n.append("job_id",this.oferta.id.toString()),n.append("estado_candidatura","En proceso");let c=this.fileformData.get("ruta_cv");if(c)n.append("ruta_cv",c);else{console.error("No se ha seleccionado ning\xFAn archivo.");return}this.ofertaempleoservice.postCv(n).subscribe({next:l=>{this.dialog.closeAll(),this._snackbar.open("Candidatura enviada.","Aceptar",{duration:3e3})},error:l=>{this.dialog.closeAll(),this._snackbar.open("Ha ocurrido un error.","Aceptar",{duration:3e3})}})}}getFile(n){let l=n.target.files;if(l.length>0&&l!=null){let g=l[0];this.fileformData.set("ruta_cv",g)}}};u.\u0275fac=function(c){return new(c||u)(h(N),h(be),h(k),h(ve),h(W),h(fe))},u.\u0275cmp=C({type:u,selectors:[["app-ofertaempleo"]],standalone:!0,features:[y([{provide:F,useValue:"es"}]),P],decls:66,vars:36,consts:[[1,"oferta-empleo"],[1,"formulario-inscripcion"],[1,"form-contacto",3,"ngSubmit","formGroup"],["cols","2","gutterSize","10px",1,"input-list",3,"rowHeight"],[3,"colspan","rowspan"],[1,"nombre-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","nombre","required",""],[1,"apellidos-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","apellidos","required",""],[1,"email-input","form-field"],["type","email","matInput","","placeholder","","value","","formControlName","email","required",""],[1,"telefono-input","form-field"],["type","number","matInput","","placeholder","","value","","formControlName","telefono","required",""],[1,"pais-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","pais","required",""],[1,"ciudad-input","form-field"],["type","text","matInput","","placeholder","","value","","formControlName","ciudad","required",""],[1,"incorporacion-input","form-field"],["formControlName","incorporacion"],["value","Inmediatamente"],["value","15 dias"],["value","30 dias"],["appearance","outline",1,"file-input","form-field"],["type","file","name","ruta_cv","required","",3,"change"],["hidden","","matInput",""],["matInput","","formControlName","politica",1,"politica-input","form-field"],[3,"href"],["mat-flat-button","","type","submit"],[1,"oferta"],[1,"cuerpo-oferta"],[1,"detalles-oferta"],["appearance","outlined",1,"detalles-card"],[1,"detalle-item"]],template:function(c,l){c&1&&(r(0,"app-header"),t(1,"main")(2,"section",0),M(3,Ee,62,15),t(4,"div",1)(5,"h2"),i(6,"\xA1Inscr\xEDbete!"),e(),t(7,"p"),i(8,"Rellena el siguiente formulario y participar\xE1s en el proceso de selecci\xF3n:"),e(),t(9,"form",2),E("ngSubmit",function(){return l.inscripcion()}),t(10,"mat-grid-list",3)(11,"mat-grid-tile",4)(12,"mat-form-field",5)(13,"mat-label"),i(14,"Nombre:"),e(),r(15,"input",6),e()(),t(16,"mat-grid-tile",4)(17,"mat-form-field",7)(18,"mat-label"),i(19,"Apellidos:"),e(),r(20,"input",8),e()(),t(21,"mat-grid-tile",4)(22,"mat-form-field",9)(23,"mat-label"),i(24,"Email:"),e(),r(25,"input",10),e()(),t(26,"mat-grid-tile",4)(27,"mat-form-field",11)(28,"mat-label"),i(29,"Tel\xE9fono:"),e(),r(30,"input",12),e()(),t(31,"mat-grid-tile",4)(32,"mat-form-field",13)(33,"mat-label"),i(34,"Pa\xEDs:"),e(),r(35,"input",14),e()(),t(36,"mat-grid-tile",4)(37,"mat-form-field",15)(38,"mat-label"),i(39,"Ciudad:"),e(),r(40,"input",16),e()(),t(41,"mat-grid-tile",4)(42,"mat-form-field",17)(43,"mat-label"),i(44,"\xBFCu\xE1ndo podr\xEDas incorporarte?"),e(),t(45,"mat-select",18)(46,"mat-option",19),i(47,"Inmediatamente"),e(),t(48,"mat-option",20),i(49,"En 15 d\xEDas"),e(),t(50,"mat-option",21),i(51,"En 30 d\xEDas"),e()()()(),t(52,"mat-grid-tile",4)(53,"mat-form-field",22),r(54,"mat-label"),t(55,"input",23),E("change",function(b){return l.getFile(b)}),e(),r(56,"input",24),e()()(),t(57,"mat-checkbox",25),i(58," He le\xEDdo y acepto la "),t(59,"a",26),i(60,"pol\xEDtica de privacidad"),e(),i(61,". "),e(),r(62,"br"),t(63,"button",27),i(64,"Enviar"),e()()()()(),r(65,"app-footer")),c&2&&(a(3),S(3,l.oferta?3:-1),a(6),m("formGroup",l.jobForm),a(),m("rowHeight",l.rowHeight),a(),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",1)("rowspan",2),a(),f("width",100,"%"),a(4),m("colspan",2)("rowspan",2),a(),f("width",100,"%"),a(10),m("colspan",2)("rowspan",2),a(),f("width",100,"%"),a(6),m("href",l.baseUrl+"/politica-de-privacidad",x))},dependencies:[X,Y,oe,re,ne,de,me,le,se,pe,ae,Z,te,ie,ee,he,ue,H,ce,Q,K,q,j,J,L,A,R,G,V,$,U,z],styles:[".oferta-empleo[_ngcontent-%COMP%]{margin:5rem 10rem}.oferta[_ngcontent-%COMP%]{display:flex;gap:3rem;margin-top:2rem}.cuerpo-oferta[_ngcontent-%COMP%]{width:80%}.cuerpo-oferta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:1rem 0}.detalles-oferta[_ngcontent-%COMP%]{width:20%}.detalles-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin-bottom:1rem}.detalle-item[_ngcontent-%COMP%]{line-height:1rem}.detalle-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.form-contacto[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:var(--darkblue)}.politica-input[_ngcontent-%COMP%]{margin:0 0 1rem}@media only screen and (min-width: 1024px) and (max-width: 1350px){.oferta-empleo[_ngcontent-%COMP%]{margin:5rem}.form-contacto[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem 0}}@media only screen and (min-width: 768px) and (max-width: 1023px){.cuerpo-oferta[_ngcontent-%COMP%]{width:70%}.detalles-oferta[_ngcontent-%COMP%]{width:30%}.oferta-empleo[_ngcontent-%COMP%]{margin:5rem}}@media only screen and (max-width: 767px){.oferta[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;margin-bottom:2rem}.cuerpo-oferta[_ngcontent-%COMP%], .detalles-oferta[_ngcontent-%COMP%]{width:100%}.oferta-empleo[_ngcontent-%COMP%]{margin:2rem}.file-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:small}}"]});let v=u;return v})();export{Ye as OfertaempleoComponent};
